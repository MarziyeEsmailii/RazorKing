/* سازگاری فونت با مرورگرهای مختلف */

/* تنظیمات کلی برای بهبود رندر فونت */
* {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* تنظیمات خاص برای WebKit (Chrome, Safari) */
@supports (-webkit-appearance: none) {
    * {
        -webkit-font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
        font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    }
}

/* تنظیمات خاص برای Firefox */
@-moz-document url-prefix() {
    * {
        -moz-font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
        font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    }
}

/* تنظیمات خاص برای Edge */
@supports (-ms-ime-align: auto) {
    * {
        -ms-font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
        font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    }
}

/* Fallback fonts برای سیستم‌های مختلف */
.font-persian {
    font-family: 'Vazir', 'Tahoma', 'Iranian Sans', 'B Nazanin', 'Segoe UI', system-ui, -apple-system, sans-serif !important;
}

.font-english {
    font-family: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif !important;
}

.font-monospace {
    font-family: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
}

/* تنظیمات خاص برای سیستم‌عامل‌های مختلف */

/* Windows */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    * {
        font-family: 'Vazir', 'Tahoma', 'Segoe UI', sans-serif !important;
    }
}

/* macOS */
@supports (-webkit-backdrop-filter: blur(1px)) {
    * {
        font-family: 'Vazir', 'Tahoma', '-apple-system', 'BlinkMacSystemFont', sans-serif !important;
    }
}

/* Linux */
@media screen and (min-resolution: 1dppx) {
    @supports not (-webkit-backdrop-filter: blur(1px)) {
        @supports not (-ms-ime-align: auto) {
            * {
                font-family: 'Vazir', 'Tahoma', 'Ubuntu', 'Liberation Sans', sans-serif !important;
            }
        }
    }
}

/* Android */
@media screen and (max-width: 768px) {
    @supports (-webkit-appearance: none) {
        @media (pointer: coarse) {
            * {
                font-family: 'Vazir', 'Tahoma', 'Roboto', 'Noto Sans', sans-serif !important;
            }
        }
    }
}

/* iOS */
@supports (-webkit-touch-callout: none) {
    * {
        font-family: 'Vazir', 'Tahoma', '-apple-system', 'SF Pro Text', sans-serif !important;
    }
}

/* تنظیمات خاص برای نمایشگرهای با رزولوشن بالا */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    * {
        -webkit-font-smoothing: subpixel-antialiased;
        font-weight: 400;
    }
}

/* تنظیمات خاص برای نمایشگرهای کم‌رزولوشن */
@media (-webkit-max-device-pixel-ratio: 1), (max-resolution: 96dpi) {
    * {
        -webkit-font-smoothing: antialiased;
        font-weight: 500;
    }
}

/* تنظیمات خاص برای حالت تاریک */
@media (prefers-color-scheme: dark) {
    * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* تنظیمات خاص برای حالت روشن */
@media (prefers-color-scheme: light) {
    * {
        -webkit-font-smoothing: subpixel-antialiased;
        -moz-osx-font-smoothing: auto;
    }
}

/* تنظیمات خاص برای کاهش حرکت */
@media (prefers-reduced-motion: reduce) {
    * {
        font-variation-settings: normal;
        transition: none;
    }
}

/* تنظیمات خاص برای افزایش کنتراست */
@media (prefers-contrast: high) {
    * {
        font-weight: 600;
        text-shadow: none;
    }
}

/* تنظیمات خاص برای کاهش شفافیت */
@media (prefers-reduced-transparency: reduce) {
    * {
        text-shadow: none;
        backdrop-filter: none;
    }
}

/* تنظیمات خاص برای چاپ */
@media print {
    * {
        font-family: 'Vazir', 'Tahoma', serif !important;
        -webkit-print-color-adjust: exact;
        color-adjust: exact;
        font-size: 12pt !important;
        line-height: 1.4 !important;
    }
    
    h1 { font-size: 18pt !important; }
    h2 { font-size: 16pt !important; }
    h3 { font-size: 14pt !important; }
    h4, h5, h6 { font-size: 12pt !important; }
}

/* تنظیمات خاص برای صفحه‌نمایش‌های کوچک */
@media screen and (max-width: 480px) {
    * {
        font-size: 14px !important;
        line-height: 1.5 !important;
    }
    
    h1 { font-size: 1.5rem !important; }
    h2 { font-size: 1.3rem !important; }
    h3 { font-size: 1.1rem !important; }
    h4, h5, h6 { font-size: 1rem !important; }
}

/* تنظیمات خاص برای صفحه‌نمایش‌های بزرگ */
@media screen and (min-width: 1200px) {
    * {
        font-size: 16px !important;
        line-height: 1.6 !important;
    }
    
    h1 { font-size: 2.5rem !important; }
    h2 { font-size: 2rem !important; }
    h3 { font-size: 1.75rem !important; }
    h4 { font-size: 1.5rem !important; }
    h5 { font-size: 1.25rem !important; }
    h6 { font-size: 1rem !important; }
}

/* تنظیمات خاص برای orientation */
@media screen and (orientation: landscape) {
    * {
        letter-spacing: 0.01em;
    }
}

@media screen and (orientation: portrait) {
    * {
        letter-spacing: 0.02em;
    }
}

/* تنظیمات خاص برای hover capability */
@media (hover: hover) {
    a:hover,
    button:hover,
    .btn:hover {
        text-decoration: none;
        transition: all 0.2s ease;
    }
}

@media (hover: none) {
    a,
    button,
    .btn {
        text-decoration: none;
        transition: none;
    }
}

/* تنظیمات خاص برای pointer accuracy */
@media (pointer: coarse) {
    button,
    .btn,
    input,
    select,
    textarea {
        min-height: 44px;
        font-size: 16px !important;
    }
}

@media (pointer: fine) {
    button,
    .btn,
    input,
    select,
    textarea {
        min-height: 32px;
        font-size: 14px !important;
    }
}

/* تنظیمات خاص برای any-hover */
@media (any-hover: hover) {
    .tooltip:hover,
    .popover:hover {
        opacity: 1;
        visibility: visible;
    }
}

@media (any-hover: none) {
    .tooltip,
    .popover {
        display: none;
    }
}

/* تنظیمات خاص برای any-pointer */
@media (any-pointer: coarse) {
    .dropdown-menu {
        font-size: 16px !important;
        padding: 8px 0;
    }
    
    .dropdown-item {
        padding: 12px 16px;
        font-size: 16px !important;
    }
}

@media (any-pointer: fine) {
    .dropdown-menu {
        font-size: 14px !important;
        padding: 4px 0;
    }
    
    .dropdown-item {
        padding: 8px 12px;
        font-size: 14px !important;
    }
}

/* تنظیمات خاص برای display-mode */
@media (display-mode: standalone) {
    * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    
    input,
    textarea {
        -webkit-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;
    }
}

/* تنظیمات خاص برای forced-colors */
@media (forced-colors: active) {
    * {
        forced-color-adjust: auto;
        color: CanvasText;
        background-color: Canvas;
    }
}

/* تنظیمات خاص برای inverted-colors */
@media (inverted-colors: inverted) {
    * {
        filter: invert(0);
    }
}

/* تنظیمات خاص برای prefers-reduced-data */
@media (prefers-reduced-data: reduce) {
    @font-face {
        font-display: optional;
    }
}

/* تنظیمات خاص برای update frequency */
@media (update: slow) {
    * {
        transition: none;
        animation: none;
    }
}

@media (update: fast) {
    * {
        transition: all 0.2s ease;
    }
}

/* تنظیمات خاص برای overflow-block */
@media (overflow-block: scroll) {
    body {
        overflow-y: auto;
    }
}

@media (overflow-block: paged) {
    body {
        overflow-y: hidden;
    }
}

/* تنظیمات خاص برای overflow-inline */
@media (overflow-inline: scroll) {
    body {
        overflow-x: auto;
    }
}

@media (overflow-inline: none) {
    body {
        overflow-x: hidden;
    }
}