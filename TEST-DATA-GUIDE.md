# راهنمای داده‌های تستی کامل

## داده‌های تستی که ایجاد می‌شوند

### 1. کاربران آرایشگر (3 نفر)
- **آرایشگر 1**: علی محمدی
  - ایمیل: `barber1@test.com`
  - رمز: `Barber123!`
  - تلفن: 09123456789

- **آرایشگر 2**: رضا احمدی
  - ایمیل: `barber2@test.com`
  - رمز: `Barber123!`
  - تلفن: 09124567890

- **آرایشگر 3**: حسین کریمی
  - ایمیل: `barber3@test.com`
  - رمز: `Barber123!`
  - تلفن: 09125678901

### 2. کاربران مشتری (3 نفر)
- **مشتری 1**: محمد رضایی
  - ایمیل: `customer1@test.com`
  - رمز: `Customer123!`
  - تلفن: 09131111111

- **مشتری 2**: احمد حسینی
  - ایمیل: `customer2@test.com`
  - رمز: `Customer123!`
  - تلفن: 09132222222

- **مشتری 3**: مهدی نوری
  - ایمیل: `customer3@test.com`
  - رمز: `Customer123!`
  - تلفن: 09133333333

### 3. آرایشگاه‌ها (3 عدد)

#### آرایشگاه پارسیان
- آدرس: گرگان، خیابان ولیعصر، پلاک 123
- تلفن: 01732223344
- مالک: علی محمدی
- ساعات کاری: 9:00 - 21:00
- روزهای کاری: شنبه تا پنجشنبه

#### آرایشگاه مدرن
- آدرس: گنبد کاووس، میدان شهدا، پلاک 45
- تلفن: 01732334455
- مالک: رضا احمدی
- ساعات کاری: 9:00 - 21:00
- روزهای کاری: شنبه تا پنجشنبه

#### آرایشگاه رویال
- آدرس: گرگان، خیابان امام خمینی، پلاک 67
- تلفن: 01732445566
- مالک: حسین کریمی
- ساعات کاری: 9:00 - 21:00
- روزهای کاری: شنبه تا پنجشنبه

### 4. سرویس‌ها (6 سرویس برای هر آرایشگاه = 18 سرویس)

برای هر آرایشگاه:
1. **اصلاح مو** - 50,000 تومان - 30 دقیقه
2. **اصلاح صورت** - 30,000 تومان - 20 دقیقه
3. **رنگ مو** - 150,000 تومان - 60 دقیقه
4. **کوتاهی مو کودک** - 40,000 تومان - 25 دقیقه
5. **ماساژ سر و صورت** - 35,000 تومان - 15 دقیقه
6. **اصلاح کامل** - 100,000 تومان - 60 دقیقه

### 5. نوبت‌ها (10 نوبت)

نوبت‌ها با وضعیت‌های مختلف:
- ✅ تایید شده (Confirmed)
- ⏳ در انتظار (Pending)
- ✔️ انجام شده (Completed)
- ❌ لغو شده (Cancelled)

### 6. برنامه کاری آرایشگران

برای هر آرایشگر، برنامه کاری 6 روزه (شنبه تا پنجشنبه):
- ساعت شروع: 9:00
- ساعت پایان: 18:00

### 7. تاریخ‌های مسدود (3 عدد)

برای هر آرایشگاه یک تاریخ مسدود (تعطیلی آخر هفته)

### 8. ساعات مسدود (3 عدد)

برای هر آرایشگاه ساعت 13:00 مسدود است (استراحت ناهار)

### 9. بازه‌های زمانی (حدود 27 بازه)

برای هر آرایشگاه، بازه‌های نیم ساعته از 9:00 تا 18:00 برای فردا

## نحوه استفاده

### روش 1: از طریق رابط کاربری

1. برنامه را اجرا کنید:
```bash
cd RazorKing
dotnet run
```

2. به `http://localhost:5204/Account/Login` بروید

3. با حساب ادمین وارد شوید:
   - ایمیل: `admin@razorking.com`
   - رمز: `Admin123!`

4. به `http://localhost:5204/test` بروید

5. دکمه **"ایجاد داده‌های تستی"** را بزنید

6. منتظر بمانید تا پیغام موفقیت نمایش داده شود

7. دکمه **"اجرای تست‌های CRUD"** را بزنید

8. نتایج را در Console بررسی کنید

### روش 2: از طریق کد

می‌توانید مستقیماً از کلاس `TestDataSeeder` استفاده کنید:

```csharp
var seeder = new TestDataSeeder(context, userManager);
await seeder.SeedTestDataAsync();
```

## بررسی داده‌ها

### از طریق SQLite CLI

```bash
# ورود به دیتابیس
sqlite3 RazorKing/RazorKing.db

# تعداد کاربران
SELECT COUNT(*) FROM AspNetUsers;

# لیست آرایشگاه‌ها
SELECT Name, Phone, Address FROM Barbershops;

# لیست سرویس‌ها
SELECT s.Name, s.Price, b.Name as BarbershopName 
FROM Services s 
JOIN Barbershops b ON s.BarbershopId = b.Id;

# لیست نوبت‌ها
SELECT CustomerName, AppointmentDate, AppointmentTime, Status 
FROM Appointments;

# تعداد برنامه‌های کاری
SELECT COUNT(*) FROM BarberSchedules;

# تعداد بازه‌های زمانی
SELECT COUNT(*) FROM Time;
```

### از طریق پنل ادمین

1. وارد پنل ادمین شوید: `http://localhost:5204/admin`
2. بخش‌های مختلف را بررسی کنید:
   - مدیریت آرایشگاه‌ها
   - مدیریت سرویس‌ها
   - مدیریت نوبت‌ها
   - مدیریت کاربران

## تست‌های CRUD

پس از ایجاد داده‌های تستی، می‌توانید تست‌های CRUD را اجرا کنید:

### عملیات خواندن (READ)
- ✅ خواندن 10 شهر
- ✅ خواندن 3 آرایشگاه با اطلاعات شهر
- ✅ خواندن 18 سرویس با قیمت
- ✅ خواندن 10 نوبت با جزئیات

### عملیات به‌روزرسانی (UPDATE)
- ✅ تغییر شماره تلفن آرایشگاه
- ✅ تغییر قیمت سرویس
- ✅ تغییر وضعیت نوبت

### عملیات حذف (DELETE)
- ✅ ایجاد سرویس موقت
- ✅ حذف سرویس موقت
- ✅ بررسی حذف موفق

## آمار کلی داده‌های تستی

| نوع داده | تعداد |
|---------|-------|
| کاربران آرایشگر | 3 |
| کاربران مشتری | 3 |
| آرایشگاه‌ها | 3 |
| سرویس‌ها | 18 (6 × 3) |
| نوبت‌ها | 10 |
| برنامه‌های کاری | 18 (6 روز × 3 آرایشگر) |
| تاریخ‌های مسدود | 3 |
| ساعات مسدود | 3 |
| بازه‌های زمانی | ~27 (9 ساعت × 3 آرایشگاه) |
| **جمع کل** | **~88 رکورد** |

## نکات مهم

1. ✅ داده‌ها به صورت idempotent ایجاد می‌شوند (اگر قبلاً وجود داشته باشند، دوباره ایجاد نمی‌شوند)
2. ✅ تمام روابط بین جداول به درستی تنظیم شده‌اند
3. ✅ داده‌ها واقع‌گرایانه و قابل استفاده برای تست هستند
4. ✅ می‌توانید چندین بار تست را اجرا کنید بدون نگرانی از duplicate data

## عیب‌یابی

### اگر داده‌ها ایجاد نشدند:
1. Console را بررسی کنید برای پیغام‌های خطا
2. مطمئن شوید که با حساب Admin وارد شده‌اید
3. دیتابیس را بررسی کنید: `sqlite3 RazorKing/RazorKing.db`

### اگر خطای Duplicate دریافت کردید:
این طبیعی است. سیستم به صورت خودکار داده‌های تکراری را نادیده می‌گیرد.

### اگر می‌خواهید از نو شروع کنید:
```bash
# حذف دیتابیس
Remove-Item RazorKing/RazorKing.db

# ایجاد دوباره
cd RazorKing
dotnet ef database update

# اجرای برنامه
dotnet run
```

---

**تاریخ ایجاد**: 25 نوامبر 2025  
**نسخه**: 1.0  
**وضعیت**: ✅ آماده استفاده
